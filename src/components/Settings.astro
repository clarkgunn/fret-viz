<form method="POST">
  <fieldset>
    <legend>Scale</legend>
    <select name="Key" id="key" onchange="set(this)">
      <option value="C">C</option>
      <option value="G">G</option>
      <option value="D">D</option>
      <option value="A" selected>A</option>
      <option value="E">E</option>
      <option value="B">B</option>
      <option value="F#">F♯</option>
      <option value="Db">D♭</option>
      <option value="Ab">A♭</option>
      <option value="Eb">E♭</option>
      <option value="Bb">B♭</option>
      <option value="F">F</option>
    </select>

    <select name="Scale" id="scale" onchange="set(this)">
      <option value="major">Major (Ionian)</option>
      <option value="minor" selected>Minor (Aeolian)</option>
      <option value="dorian">Dorian</option>
      <option value="phrygian">Phrygian</option>
      <option value="lydian">Lydian</option>
      <option value="mixolydian">Mixolydian</option>
      <option value="locrian">Locrian</option>
    </select>
  </fieldset>
  <fieldset>
    <legend>Indicator</legend>
    <select name="Indicator" id="indicator" onchange="set(this)">
      <option value="note">Note Name</option>
      <option value="degree">Degree</option>
      <option value="interval">Interval</option>
      <option value="intervalic-function" selected>Intervalic Function</option>
    </select>
    <label>
      Color
      <input name="Color" type="color" value="#ff636c" onchange="set(this)" />
    </label>
  </fieldset>
  <div>
    <span id="pitch-label" class="label">Pitch:</span>
    <span id="pitch" aria-labelledby="pitch-label"></span>
  </div>
  <div>
    <span id="note-label" class="label">Note:</span>
    <span id="note" aria-labelledby="note-label"></span>
  </div>
  <div>
    <span id="clarity-label" class="label">Clarity:</span>
    <span id="clarity" aria-labelledby="clarity-label"></span>
  </div>
  <button id="resume-button">Resume audio context</button>
</form>

<script is:inline>
  function set(select) {
    window.dispatchEvent(
      new CustomEvent(`set${select.name}`, {
        detail: select.value,
      })
    );
  }
</script>
